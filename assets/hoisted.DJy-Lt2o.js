const n=document.getElementById("contact-form"),a=document.getElementById("submit-btn"),i=document.getElementById("spinner"),l=document.getElementById("btn-text"),s=document.getElementById("error-message"),d=document.getElementById("success-message"),g=document.getElementById("reset-btn");n&&a&&i&&l&&s&&d&&g&&(n.addEventListener("submit",async e=>{e.preventDefault(),a.disabled=!0,i.style.display="block",l.innerText="Enviando...",s.style.display="none";const u=new FormData(n),t=Object.fromEntries(u.entries());if(!t.name||!t.email||!t.message){s.innerText="Por favor complete todos los campos obligatorios.",s.style.display="block",a.disabled=!1,i.style.display="none",l.innerText="Solicitar Cotización Ahora";return}const f={...t,api_key:n.dataset.apikey,origin:window.location.hostname,pageUrl:window.location.href,userAgent:navigator.userAgent,source:"landing-logistica"};try{const m=new URLSearchParams(f);await fetch(n.dataset.url||"",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},body:m}),d.style.display="flex",n.reset(),setTimeout(()=>{d.style.display="none"},1e4)}catch(m){console.error("Error submitting form:",m),s.innerText="Hubo un error al enviar el formulario. Por favor, intente nuevamente.",s.style.display="block"}finally{a.disabled=!1,i.style.display="none",l.innerText="Solicitar Cotización Ahora"}}),g.addEventListener("click",()=>{d.style.display="none"}));const y=document.getElementById("navbar"),b=document.getElementById("mobile-toggle"),o=document.getElementById("mobile-menu"),c=document.getElementById("menu-icon"),r=document.getElementById("close-icon");if(y&&b&&o&&c&&r){window.addEventListener("scroll",()=>{window.scrollY>50?y.classList.add("scrolled"):y.classList.remove("scrolled")});let e=!1;b.addEventListener("click",()=>{e=!e,e?(o.classList.add("open"),c.classList.add("hidden"),r.classList.remove("hidden")):(o.classList.remove("open"),c.classList.remove("hidden"),r.classList.add("hidden"))}),o.querySelectorAll("a").forEach(t=>{t.addEventListener("click",()=>{e=!1,o.classList.remove("open"),c.classList.remove("hidden"),r.classList.add("hidden")})})}
